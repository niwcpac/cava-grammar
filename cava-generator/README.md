# Introduction

This project includes the grammar generator and parser, which is created using ANTLR. The purpose of the grammar generator is to produce grammar statements from the JSON event data collected during our instrumentation of Ghidra. Currently, the generated grammar statements are basic and lack some 'metadata' we aim to capture. These statements are based on the grammar defined in the `interaction.g4` file.

# Event Mapping

At present, the grammar event mapper is straightforward and easy to understand. If you have any questions, feel free to reach out to Froylan Maldonado at `froylan.g.maldonado.civ@us.navy.mil`.

# Examples

There are two examples included in the folder for reference.

### 1. Click on Export Tool

This example demonstrates clicking the "File" header in the toolbar, navigating to the "Export Tool" submenu, and selecting it with a left click. There is a `.mov` file that captures this action. The corresponding event data is stored in `click_on_export_tool.txt`, which is quite large and not easily readable at a glance. To simplify, the generated grammar statements can be found in `click_on_export_tool_grammar.txt`, which was created by running `cava-gen.py` on the event data.

### 2. Header Traversal

In this example, I clicked on the "File" header and moved the cursor across three additional headers. The `.mov` file demonstrates this action. The event data is stored in `header_traversal.txt`, and the corresponding grammar statements, generated by `cava-gen.py`, are in `header_traversal_grammar.txt`.

# Using `cava-gen.py`

## Python Virtual Environment

The grammar generator was developed with Python 3.8.20. You can run it in any virtual environment you prefer, such as `conda`, `pyenv`, or `poetry`. The only dependency is `pylsl`. However, if you don't intend to run live grammar generation, this dependency isn't required.

## Running `cava-gen.py`

The grammar generator is a simple command-line tool. For most cases, you can run the following command:

```bash
python3 cava-gen.py -i relative/path/to/file.json -o relative/path/to/my_grammar.txt
